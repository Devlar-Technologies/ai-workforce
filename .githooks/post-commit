#!/bin/bash
# Post-commit hook to remind about workflow completion

set -e

# Colors for output
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

CURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD)

if [ "$CURRENT_BRANCH" = "qc" ]; then
    echo -e "${GREEN}âœ… Commit successful on qc branch${NC}"
    echo -e "${BLUE}ðŸš€ Auto-executing workflow (pre-approved by user)${NC}"

    # Auto-execute the workflow since user pre-approved
    ./scripts/push-workflow.sh

    echo -e "${GREEN}âœ… Workflow completed automatically${NC}"
fi